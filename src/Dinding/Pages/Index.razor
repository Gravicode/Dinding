@page "/"
@page "/index"
@inject ListingService ListingSvc
@inject IJSRuntime IJS
<PageTitle>Index</PageTitle>
<div id="location-map-block">
    <div id="location-homemap-block"></div>
    <div class="container">
        <div class="row">
            <div class="col-md-12 col-sm-12 col-lg-12">
                <div id="location-link-item">
                    <button id="map_list"><i class="fa fa-angle-double-up"></i></button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="slider-banner-section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 text-center">
                <div id="home-slider-item">
                    <span class="helpyou_item">Kami <span>Membantu</span> Kamu untuk</span>
                    <h1>MENCARI <span>BARANG BAGUS</span> PALING <span>CEPAT DAN LENGKAP</span></h1>
                    <p>Portal listing iklan terlengkap, gratis, mudah, dan cepat untuk semua kalangan....</p>
                </div>
                <div id="search-categorie-item-block">
                    <SearchBoxIndexPage></SearchBoxIndexPage>
                </div>
                <div id="location_slider_item_block">
                    <button id="map_mark"><i class="fa fa-map-marker"></i></button>
                </div>
            </div>
        </div>
    </div>
</div>
<CategoryListingPage></CategoryListingPage>
<FeaturedListingPage></FeaturedListingPage>
<CounterBlockPage></CounterBlockPage>
<RecentListingPage></RecentListingPage>
<div style="display:none;" id="pricing-item-block">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 text-center">
                <div class="col-md-12 pricing-heading-title bt_heading_3">
                    <h1>Pricing <span>Plan</span></h1>
                    <div class="blind line_1"></div>
                    <div class="flipInX-1 blind icon"><span class="icon"><i class="fa fa-stop"></i>&nbsp;&nbsp;<i class="fa fa-stop"></i></span></div>
                    <div class="blind line_2"></div>
                </div>
                <div class="row">
                    <div class="col-md-4 col-sm-4 col-xs-12">
                        <div class="price-table-feature-block">
                            <h1>Basic</h1>
                            <hr>
                            <p>Free <span>$24</span> Per Month</p>
                            <div class="vfx-pl-seperator"> <span><i class="fa fa-caret-down"></i></span> </div>
                            <div class="vfx-price-list-item">
                                <h2>Limited Number</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-list-item">
                                <h2>One Agent for All</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-list-item">
                                <h2>Mail Communication</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-btn">
                                <button class="purchase-btn"><i class="fa fa-unlock-alt"></i> Purchase Now</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-4 col-xs-12">
                        <div class="price-table-feature-block active">
                            <h1>Premium</h1>
                            <hr>
                            <p>Free <span>$49</span> Per Month</p>
                            <div class="vfx-pl-seperator"> <span><i class="fa fa-caret-down"></i></span> </div>
                            <div class="vfx-price-list-item">
                                <h2>Unlimited Number</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-list-item">
                                <h2>One Agent for All</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-list-item">
                                <h2>Mail Communication</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-btn">
                                <button class="purchase-btn"><i class="fa fa-unlock-alt"></i> Purchase Now</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-4 col-xs-12">
                        <div class="price-table-feature-block">
                            <h1>Plus</h1>
                            <hr>
                            <p>Free <span>$99</span> Per Month</p>
                            <div class="vfx-pl-seperator"> <span><i class="fa fa-caret-down"></i></span> </div>
                            <div class="vfx-price-list-item">
                                <h2>Unlimited Number</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-list-item">
                                <h2>Unlimited Number</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-list-item">
                                <h2>Personal Training</h2>
                                <p>Our company offers best pricing options for field agents and companies.</p>
                            </div>
                            <div class="vfx-price-btn">
                                <button class="purchase-btn"><i class="fa fa-unlock-alt"></i> Purchase Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    [CascadingParameter]
    public MainLayout Layout { get; set; }

    public List<MapItemInfo> Locations { get; set; }
    protected override async Task OnInitializedAsync()
    {

    }
    protected override void OnAfterRender(bool firstRender)
    {

        if (firstRender)
        {
            Locations = ListingSvc.GetLatestMap(30);
            IJS.InvokeVoidAsync("InitMap",Locations);
           
        }
    }
}